{% extends "base.html" %}
{% load static %}

{% block title %}Home{% endblock %}

{% block css_files %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'count_calories_app/count_calories_app.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid">
  <div class="py-3">
    <h1 class="h3 mb-1">Welcome back</h1>
    <p class="text-muted mb-4">Quick access to your trackers and the latest features.</p>
  </div>

  <div class="row g-3">
    <!-- Food Tracker -->
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
          <div>
            <h2 class="h5 mb-0">Food Tracker</h2>
            <small class="text-white-50">AI assistant, charts, daily/weekly/monthly filters</small>
          </div>
          <div class="btn-group btn-group-sm">
            <a class="btn btn-warning text-dark" href="{% url 'food_tracker' %}?range=today&export=csv">Download Today CSV</a>
            <a class="btn btn-light" href="{% url 'food_tracker' %}">Open</a>
          </div>
        </div>
        <div class="card-body">
          <ul class="mb-0">
            <li>Describe meals with the AI Food Assistant to auto‑fill nutrients.</li>
            <li>View nutrition overview with macro charts and trends.</li>
            <li>Filter by Today, Week, Month, specific date, or custom range.</li>
            <li>Quick add frequently used foods and hide from quick list.</li>
            <li>Export filtered entries to CSV for analysis.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Top Foods -->
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
          <div>
            <h2 class="h5 mb-0">Top Foods</h2>
            <small class="text-white-50">Counts, calories, sorting and pagination</small>
          </div>
          <div class="btn-group btn-group-sm">
            <a class="btn btn-warning text-dark" href="{% url 'top_foods' %}?range=today&export=csv">Download Today CSV</a>
            <a class="btn btn-light" href="{% url 'top_foods' %}">Open</a>
          </div>
        </div>
        <div class="card-body">
          <ul class="mb-0">
            <li>See the most frequently eaten foods for any period.</li>
            <li>Sort by count, name, total calories, or latest consumed.</li>
            <li>Paginated table with quick CSV export of current view.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Weight Tracker -->
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
          <div>
            <h2 class="h5 mb-0">Weight Tracker</h2>
            <small class="text-white-50">Charts, stats, trend and CSV export</small>
          </div>
          <div class="btn-group btn-group-sm">
            <a class="btn btn-warning text-dark" href="{% url 'weight_tracker' %}?export=csv">Download CSV</a>
            <a class="btn btn-light" href="{% url 'weight_tracker' %}">Open</a>
          </div>
        </div>
        <div class="card-body">
          <ul class="mb-0">
            <li>Visualize history and key stats (avg, min, max, latest, BMI).</li>
            <li>Change rate, consistency, and goal projections.</li>
            <li>Export all or date‑filtered data to CSV.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Workouts -->
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-secondary text-white d-flex justify-content-between align-items-center">
          <div>
            <h2 class="h5 mb-0">Workouts</h2>
            <small class="text-white-50">Sessions, tables and exercise list</small>
          </div>
          <div class="btn-group btn-group-sm">
            <a class="btn btn-light" href="{% url 'workout_tracker' %}">Sessions</a>
            <a class="btn btn-light" href="{% url 'workout_table' %}">Tables</a>
            <a class="btn btn-light" href="{% url 'exercise_list' %}">Exercises</a>
          </div>
        </div>
        <div class="card-body">
          <ul class="mb-0">
            <li>Track workouts with exercises, sets, reps and weights.</li>
            <li>Create and manage workout tables for structured plans.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Running Tracker -->
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-warning text-dark d-flex justify-content-between align-items-center">
          <div>
            <h2 class="h5 mb-0">Running Tracker</h2>
            <small class="text-muted">Distance, duration and notes</small>
          </div>
          <div class="btn-group btn-group-sm">
            <a class="btn btn-dark" href="{% url 'running_tracker' %}">Open</a>
          </div>
        </div>
        <div class="card-body">
          <ul class="mb-0">
            <li>Log running sessions and monitor progress.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Body Measurements -->
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
          <div>
            <h2 class="h5 mb-0">Body Measurements</h2>
            <small class="text-white-50">Track measurements over time</small>
          </div>
          <div class="btn-group btn-group-sm">
            <a class="btn btn-light" href="{% url 'body_measurements_tracker' %}">Open</a>
          </div>
        </div>
        <div class="card-body">
          <ul class="mb-0">
            <li>Record multiple measurements (neck, chest, waist, limbs, etc.).</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
